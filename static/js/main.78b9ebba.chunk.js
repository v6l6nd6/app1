(this["webpackJsonpmar-sn"]=this["webpackJsonpmar-sn"]||[]).push([[0],{106:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"d",(function(){return g})),n.d(t,"c",(function(){return v})),n.d(t,"e",(function(){return x}));var r=n(8),c=n.n(r),s=n(20),a=n(13),o=n(3),i=n(49),u="FOLLOW-POST",l="UNFOLLOW",d="SET_USERS",j="SET_CURRENT_PAGE",f="SET_TOTAL_USERS_COUNT",b="TOGGLE_IS_FETCHING",O="IS_FOLLOWING_PROGRESS",h="FILTER_SEARCH",p={users:[],pageSize:5,totalUsersCount:100,currentPage:1,ifFetching:!0,followingInProgress:[],filter:{term:"",friend:""}},m={followAC:function(e){return{type:u,userId:e}},unfollowAC:function(e){return{type:l,userId:e}},setUsersAC:function(e){return{type:d,users:e}},setCurrentPageAC:function(e){return{type:j,currentPage:e}},setTotalUsersCountAC:function(e){return{type:f,count:e}},toggleIsFetchingAC:function(e){return{type:b,ifFetching:e}},toggleFollowingProgressAC:function(e,t){return{type:O,ifFetching:e,userId:t}},filterSearchAC:function(e,t){return{type:h,payload:{term:e,friend:t}}}},g=function(e,t,n){return function(){var r=Object(s.a)(c.a.mark((function r(s){var a;return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return s(m.toggleIsFetchingAC(!0)),s(m.filterSearchAC(n.term,n.friend)),r.next=4,i.a.getUsers(e,t,n.term);case 4:a=r.sent,s(m.toggleIsFetchingAC(!1)),s(m.setUsersAC(a.items)),s(m.setTotalUsersCountAC(a.totalCount));case 8:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},v=function(e){return function(){var t=Object(s.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(m.toggleFollowingProgressAC(!0,e)),t.next=3,i.a.follow(e);case 3:0===t.sent.resultCode&&n(m.followAC(e)),n(m.toggleFollowingProgressAC(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},x=function(e){return function(){var t=Object(s.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(m.toggleFollowingProgressAC(!0,e)),t.next=3,i.a.unfollow(e);case 3:0===t.sent.resultCode&&n(m.unfollowAC(e)),n(m.toggleFollowingProgressAC(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:var n=Object(o.a)(Object(o.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(o.a)(Object(o.a)({},e),{},{followed:!0}):e}))});return n;case l:var r=Object(o.a)(Object(o.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(o.a)(Object(o.a)({},e),{},{followed:!1}):e}))});return r;case d:return Object(o.a)(Object(o.a)({},e),{},{users:t.users});case j:return Object(o.a)(Object(o.a)({},e),{},{currentPage:t.currentPage});case f:return Object(o.a)(Object(o.a)({},e),{},{totalUsersCount:t.count});case b:return Object(o.a)(Object(o.a)({},e),{},{ifFetching:t.ifFetching});case O:return Object(o.a)(Object(o.a)({},e),{},{followingInProgress:t.ifFetching?[].concat(Object(a.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});case h:return Object(o.a)(Object(o.a)({},e),{},{filter:t.payload});default:return e}}},117:function(e,t,n){"use strict";t.a=n.p+"static/media/prof.8e1ed303.jpg"},118:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(3),c=n(135),s=n(94),a=n.n(s),o=n(1),i=["input","meta"],u=function(e){return function(t){var n=t.input,s=t.meta,u=Object(c.a)(t,i),l=s.touched&&s.error;return Object(o.jsxs)("div",{className:a.a.formControl+" "+(l?a.a.error:""),children:[Object(o.jsx)(e,Object(r.a)(Object(r.a)({},u),n)),l&&Object(o.jsx)("span",{children:s.error})]})}}},134:function(e,t,n){"use strict";n(0);var r=n.p+"static/media/loader.2aa5d275.svg",c=n(141),s=n.n(c),a=n(1);t.a=function(e){return Object(a.jsx)("img",{className:s.a.prloader_img,src:r,alt:"piska"})}},138:function(e,t,n){e.exports={content:"Profile_content__36g-L",imgcontent:"Profile_imgcontent__1xG8h",container:"Profile_container__aVR4F"}},141:function(e,t,n){e.exports={prloader_img:"Preloader_prloader_img__1sOMK"}},147:function(e,t,n){e.exports={chatPageBlock:"ChatPage_chatPageBlock__2I1i9"}},22:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r,c=n(71),s=n.n(c).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"7486980c-7264-4f8c-ac20-0925c8ef6b52"}});!function(e){e[e.Success=0]="Success",e[e.Error=1]="Error",e[e.captchaIsReq=10]="captchaIsReq"}(r||(r={}))},232:function(e,t,n){},233:function(e,t,n){},27:function(e,t,n){e.exports={nav:"Navbar_nav__1jUr3",item:"Navbar_item__vjzf-",active:"Navbar_active__3JnsG"}},293:function(e,t,n){"use strict";n.r(t);var r=n(16),c=n(97),s={},a=n(8),o=n.n(a),i=n(20),u=n(13),l=n(3),d=n(22),j=function(e){return d.a.get("profile/".concat(e)).then((function(e){return e.data}))},f=function(e){return d.a.put("profile/",e).then((function(e){return e.data}))},b=function(e){return d.a.get("profile/status/".concat(e))},O=function(e){return d.a.put("profile/status/",{status:e})},h="ADD-POST",p="UPADTE-NEW-POST-TEXT",m="SET_USER_PROFIEL",g="SET_STATUS",v="DELETE_POST",x={posts:[{id:1,message:"Hi , how are youuu?"},{id:2,message:"Its my first po"},{id:3,message:"Whats app?"},{id:4,message:"Whtfck???"},{id:5,message:"Ohhhyeee"}],newPostText:"ite-kamasutra",profile:null,status:""},_=function(e){return{type:m,profile:e}},w=function(e){return{type:g,status:e}},S=function(e){return function(){var t=Object(i.a)(o.a.mark((function t(n){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j(e);case 2:r=t.sent,n(_(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},C=n(106),y=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return d.a.post("/auth/login/",{email:e,password:t,rememberMe:n,captcha:r})},E=function(){return d.a.delete("/auth/login/")},k=n(49),N="SET_USER_DATA",P="GET_CAPTCHA_URL_SUCCES",A={email:null,login:null,userId:null,isAuth:!1,captchaUrl:null},T={setUserData:function(e,t,n,r){return{type:N,data:{email:e,login:t,userId:n,isAuth:r}}},getCaptchaUrlSucces:function(e){return{type:P,data:{captchaUrl:e}}}},I=function(){return function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k.a.dateOfMyLogin().then((function(e){0===e.resultCode&&t(T.setUserData(e.data.email,e.data.login,e.data.id,!0))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:case P:return Object(l.a)(Object(l.a)({},e),t.data);default:return e}},F=n(137),U=n(296),R=null,D={"message-received":[],"status-changed":[]},M=function(){console.log("CLOSE CHANNEL"),D["status-changed"].forEach((function(e){return e("pedding")})),setTimeout(J,3e3)},B=function(){H("ready")},H=function(e){D["status-changed"].forEach((function(t){return t(e)}))},G=function(){var e,t,n;null===(e=R)||void 0===e||e.removeEventListener("close",M),null===(t=R)||void 0===t||t.removeEventListener("message",W),null===(n=R)||void 0===n||n.removeEventListener("open",B)};function J(){var e;G(),null===(e=R)||void 0===e||e.close(),R=new WebSocket("wss://social-network.samuraijs.com/handlers/ChatHandler.ashx"),H("pedding"),R.addEventListener("close",M),R.addEventListener("message",W),R.addEventListener("open",B)}var W=function(e){var t=JSON.parse(e.data);D["message-received"].forEach((function(e){return e(t)})),console.log(JSON.parse(e.data))},V=function(){J()},z=function(){var e;D["message-received"]=[],D["status-changed"]=[],null===(e=R)||void 0===e||e.close(),G()},Y=function(e,t){return D[e].push(t),function(){D[e].filter((function(e){return e!==t}))}},q=function(e,t){D[e]=D[e].filter((function(e){return e!==t}))},K=function(e){var t;null===(t=R)||void 0===t||t.send(e)},X="MESS_RECEIVED",Q="STATUS_CHANGE",Z={messages:[],status:""},$=function(e){return{type:"MESS_RECEIVED",payload:{message:e}}},ee=function(e){return{type:"STATUS_CHANGE",payload:{status:e}}},te=null,ne=null,re=function(e){return null===ne&&(ne=function(t){e(ee(t))}),ne},ce=function(e){return null===te&&(te=function(t){e($(t))}),te},se=Object(r.c)({profileReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:var n={id:6,message:t.messa},r=Object(l.a)({},e);return r.posts=Object(u.a)(e.posts),r.posts.push(n),r;case p:var c=Object(l.a)({},e);return c.newPostText=t.newText,c;case m:return Object(l.a)(Object(l.a)({},e),{},{profile:t.profile});case g:return Object(l.a)(Object(l.a)({},e),{},{status:t.status});case v:return Object(l.a)(Object(l.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!=t.postId}))});default:return e}},dialogsReducer:c.b,sidebarReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;return e},usersReducer:C.b,authReducer:L,form:U.a,chat:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case X:return Object(l.a)(Object(l.a)({},e),{},{messages:[].concat(Object(u.a)(e.messages.slice(-5)),Object(u.a)(t.payload.message))});case Q:return Object(l.a)(Object(l.a)({},e),{},{status:t.payload.status});default:return e}}}),ae=Object(r.e)(se,Object(r.a)(F.a));window.store=ae;var oe=n(0),ie=n.n(oe),ue=n(70),le=n.n(ue),de=(n(232),n(233),n(50)),je=n.n(de),fe=n(25),be=n.p+"static/media/headerlogo.174167df.png",Oe=n(1),he=function(e){var t=e.logOutThunkCreator,n=e.isAuth,r=e.login,c=t;return Object(Oe.jsxs)("header",{className:je.a.header,children:[Object(Oe.jsx)("img",{className:je.a.imgheader,src:be}),Object(Oe.jsx)("div",{className:je.a.linkLogin,children:n?r&&Object(Oe.jsx)("button",{className:je.a.loginBtn,onClick:c,children:"Logout"}):Object(Oe.jsx)(fe.b,{className:je.a.LoginLabel,to:"/login/",children:"Login"})})]})},pe=n(27),me=n.n(pe),ge=function(){return Object(Oe.jsxs)("div",{className:me.a.nav,children:[Object(Oe.jsx)("div",{className:me.a.item,children:Object(Oe.jsx)(fe.b,{to:"/profile",className:function(e){return e.isActive?"".concat(me.a.active):""},children:"Profile"})}),Object(Oe.jsx)("div",{className:me.a.item,children:Object(Oe.jsx)(fe.b,{to:"/chat",children:"Chat-WebSocket"})}),Object(Oe.jsx)("div",{className:me.a.item,children:Object(Oe.jsx)(fe.b,{to:"/users",className:function(e){return e.isActive?"".concat(me.a.active):""},children:"Users"})}),Object(Oe.jsx)("div",{className:me.a.item,children:Object(Oe.jsx)(fe.b,{to:"/dialogs",className:function(e){return e.isActive?"".concat(me.a.active):""},children:"Message"})}),Object(Oe.jsx)("div",{className:me.a.item,children:Object(Oe.jsx)(fe.b,{to:"/news",children:"News"})}),Object(Oe.jsx)("div",{className:me.a.item,children:Object(Oe.jsx)("a",{href:"#",children:"Settings"})})]})},ve=n(138),xe=n.n(ve),_e=n(11),we=n(30),Se=n.n(we),Ce=n.p+"static/media/loader.372b42cf.gif",ye=function(e){var t=Object(oe.useState)(!1),n=Object(_e.a)(t,2),r=n[0],c=n[1],s=Object(oe.useState)(e.status),a=Object(_e.a)(s,2),o=a[0],i=a[1];Object(oe.useEffect)((function(){i(e.status)}),[e.status]);return Object(Oe.jsxs)("div",{children:[!r&&Object(Oe.jsxs)("div",{children:[Object(Oe.jsx)("b",{children:"Status : "}),"  ",Object(Oe.jsx)("span",{onClick:function(){c(!0)},children:e.status})]}),r&&Object(Oe.jsx)("div",{children:Object(Oe.jsx)("input",{onChange:function(e){i(e.currentTarget.value)},onBlur:function(){c(!1),O(o).then((function(t){0===t.data.resultCode&&e.setStatus(o)}))},value:o})})]})},Ee=n(117),ke=n(295),Ne=n(294),Pe=n(118),Ae=(Object(Pe.a)("textarea"),Object(Ne.a)({form:"formddd"})((function(e){var t=e.handleSubmit,n=e.profile,r=e.error;return Object(Oe.jsxs)("form",{onSubmit:t,children:[Object(Oe.jsx)("div",{children:Object(Oe.jsx)("button",{className:Se.a.editBtn,children:"save"})}),r&&Object(Oe.jsx)("div",{children:"\u041e\u0428\u0418\u0411\u041a\u0410"}),Object(Oe.jsxs)("div",{children:[Object(Oe.jsx)("b",{children:"Full Name"})," :",Object(Oe.jsx)(ke.a,{component:"input",name:"fullName"})]}),Object(Oe.jsxs)("div",{children:[Object(Oe.jsx)("b",{children:"lookingForAJob"})," :",Object(Oe.jsx)(ke.a,{component:"input",type:"checkbox",name:"lookingForAJob"})]}),Object(Oe.jsxs)("div",{children:[Object(Oe.jsx)("b",{children:"My proffesional skills"})," : ",Object(Oe.jsx)(ke.a,{component:"textarea",name:"lookingForAJobDescription",placeholder:"my professional skills"})]}),Object(Oe.jsxs)("div",{children:[Object(Oe.jsx)("b",{children:"About me"})," : ",Object(Oe.jsx)(ke.a,{component:"textarea",name:"aboutMe"})]}),Object(Oe.jsx)("div",{children:Object.keys(n.contacts).map((function(e){return Object(Oe.jsxs)("div",{children:[" ",Object(Oe.jsxs)("b",{children:[" ",e,"  ",Object(Oe.jsx)(ke.a,{component:"input",name:"contacts."+e})]})]},e)}))})]})}))),Te=function(e){var t=e.profile,n=e.isOwner,r=e.goToEditMode;return Object(Oe.jsxs)("div",{className:Se.a.profFomr,children:[n&&Object(Oe.jsx)("div",{children:Object(Oe.jsx)("button",{className:Se.a.editBtn,onClick:r,children:"edit"})}),Object(Oe.jsxs)("div",{className:Se.a.OnefieldProf,children:[Object(Oe.jsx)("b",{children:"Full Name"}),"  ",t.fullName]}),Object(Oe.jsxs)("div",{className:Se.a.OnefieldProf,children:[Object(Oe.jsx)("b",{children:"lookingForAJob"}),"  ",t.lookingForAJob?"yes":"no"]}),Object(Oe.jsxs)("div",{className:Se.a.OnefieldProf,children:[Object(Oe.jsx)("b",{children:"My proffesional skills"}),"  ",t.lookingForAJobDescription]}),Object(Oe.jsxs)("div",{className:Se.a.OnefieldProf,children:[Object(Oe.jsx)("b",{children:"About me"}),"  ",t.aboutMe]}),Object(Oe.jsxs)("div",{children:[Object(Oe.jsx)("b",{children:"Contacts"})," : ",Object.keys(t.contacts).map((function(e){return Object(Oe.jsx)(Ie,{contactTitle:e,contactValue:t.contacts[e]},e)}))]})]})},Ie=function(e){var t=e.contactTitle,n=e.contactValue;return Object(Oe.jsxs)("div",{children:[Object(Oe.jsx)("b",{children:t})," : ",n]})},Le=function(e){var t=e.profile,n=e.isOwner,r=e.setStatus,c=e.status,s=e.saveProfile,a=Object(oe.useState)(!1),o=Object(_e.a)(a,2),i=o[0],u=o[1];if(!t)return Object(Oe.jsx)("div",{children:Object(Oe.jsx)("img",{src:Ce,alt:"loader"})});return Object(Oe.jsxs)("div",{children:[Object(Oe.jsx)("img",{className:Se.a.proffPhoto,src:t.photos.large||Ee.a}),i?Object(Oe.jsx)(Ae,{initialValues:t,profile:t,onSubmit:function(e){s(e),u(!1)}}):Object(Oe.jsx)(Te,{goToEditMode:function(){u(!0)},profile:t,isOwner:n}),Object(Oe.jsx)(ye,{status:c,setStatus:r})]})},Fe=function(e){var t=e.profile,n=e.status,r=e.isOwner,c=e.setStatus,s=e.saveProfile;return Object(Oe.jsx)("div",{className:xe.a.container,children:Object(Oe.jsx)(Le,{profile:t,status:n,isOwner:r,setStatus:c,saveProfile:s})})},Ue=n(4),Re=n(9),De=n(10),Me=n(17),Be=n(18),He=n(14),Ge=function(e){Object(Me.a)(n,e);var t=Object(Be.a)(n);function n(){return Object(Re.a)(this,n),t.apply(this,arguments)}return Object(De.a)(n,[{key:"componentDidMount",value:function(){this.props.setUserDataThunkCreate()}},{key:"render",value:function(){return Object(Oe.jsx)(he,Object(l.a)(Object(l.a)({},this.props),{},{logOutThunkCreator:this.props.logOutThunkCreator}))}}]),n}(ie.a.Component),Je=Object(He.b)((function(e){return{isAuth:e.authReducer.isAuth,login:e.authReducer.login}}),{setUserData:T.setUserData,setUserDataThunkCreate:I,logOutThunkCreator:function(){return function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E();case 2:0===e.sent.data.resultCode&&t(T.setUserData(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(Ge),We=n(134),Ve=function(){var e=Object(Ue.h)().userId,t=Object(He.c)(),n=Object(He.d)((function(e){return e.authReducer.isAuth})),r=Object(He.d)((function(e){return e.profileReducer.profile})),c=Object(He.d)((function(e){return e.profileReducer.status})),s=function(e){t(w(e))};return e||(e="21176"),Object(oe.useEffect)((function(){!function(e){t(S(e))}(e),b(e).then((function(e){s(e.data)}))}),[]),Object(Oe.jsxs)(Oe.Fragment,{children:[!1===n&&Object(Oe.jsx)(Ue.a,{to:"/login"}),Object(Oe.jsx)(Fe,{profile:r,status:c,saveProfile:function(e){t(function(e){return function(){var t=Object(i.a)(o.a.mark((function t(n,r){var c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=r().authReducer.userId,t.next=3,f(e);case 3:0===t.sent.resultCode&&null!=c&&n(S(c));case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}(e))},setStatus:s,isOwner:"21176"===e})]})},ze=n(59),Ye=n(93),qe=n(42),Ke=n.n(qe),Xe=function(e){var t=Ye.a().shape({login:Ye.b().email("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0435\u0440\u043d\u044b\u0439 email").required()});return Object(Oe.jsx)("div",{children:Object(Oe.jsx)(ze.b,{initialValues:{login:"",password:"",rememberMe:""},onSubmit:function(t){e.loginThunkCreatorr(t.login,t.password,t.checkbox)},validationSchema:t,children:function(e){return Object(Oe.jsxs)("form",{onSubmit:e.handleSubmit,className:Ke.a.form,children:[Object(Oe.jsxs)("div",{className:Ke.a.Login,children:["Email",Object(Oe.jsx)(ze.a,{component:"input",name:"login",placeholder:"your email,please"})]}),e.errors.login&&e.errors.login,Object(Oe.jsxs)("div",{className:Ke.a.Pass,children:["Pass",Object(Oe.jsx)(ze.a,{component:"input",name:"password",placeholder:"your password,please"})]}),Object(Oe.jsxs)("div",{children:[Object(Oe.jsx)("span",{className:Ke.a.Subm,children:"Submit"}),Object(Oe.jsx)(ze.a,{component:"input",type:"checkbox",name:"rememberMe"})]}),Object(Oe.jsx)("button",{type:"submit",className:Ke.a.btn,children:"send"})]})}})})},Qe=function(e){var t=Object(He.d)((function(e){return e.authReducer.isAuth})),n=Object(He.c)();return t?Object(Oe.jsx)(Ue.a,{to:"/profile"}):Object(Oe.jsxs)("div",{children:[Object(Oe.jsx)("h1",{children:Object(Oe.jsx)(Xe,{loginThunkCreatorr:function(e,t,r){n(function(e,t,n){return function(){var r=Object(i.a)(o.a.mark((function r(c){return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,y(e,t,n);case 2:0===r.sent.data.resultCode&&c(I());case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}(e,t,r))}})}),Object(Oe.jsxs)("div",{className:Ke.a.regInfo,children:[Object(Oe.jsxs)("span",{children:["If you are not registered, please go to ",Object(Oe.jsx)("div",{children:Object(Oe.jsx)("a",{href:"https://social-network.samuraijs.com/",children:"https://social-network.samuraijs.com/"})}),"for further registration."]}),Object(Oe.jsx)("div",{children:Object(Oe.jsx)("span",{children:"Unfortunately, at the moment the server does not register on any ready-made project, entrusting this procedure only to the source site."})})]})]})},Ze=n(147),$e=n.n(Ze),et=function(){return Object(Oe.jsx)("div",{children:Object(Oe.jsx)(tt,{})})},tt=function(){var e=Object(He.c)(),t=Object(He.d)((function(e){return e.chat.messages})),n=Object(He.d)((function(e){return e.authReducer.isAuth}));return Object(oe.useEffect)((function(){return e(function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:V(),Y("message-received",ce(t)),Y("status-changed",re(t));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),function(){e(function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:q("message-received",ce(t)),q("status-changed",re(t)),z();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}),[]),Object(Oe.jsxs)("div",{className:$e.a.chatPageBlock,children:[!n&&Object(Oe.jsx)(Ue.a,{to:"/login"}),Object(Oe.jsx)("div",{children:t.map((function(e,t){return Object(Oe.jsx)(nt,{oneFromDates:e},t)}))}),Object(Oe.jsx)("div",{children:Object(Oe.jsx)(ct,{})})]})},nt=function(e){var t=e.oneFromDates,n=Object(oe.useRef)(null);return Object(oe.useLayoutEffect)((function(){var e;null===(e=n.current)||void 0===e||e.scrollIntoView()}),[]),Object(Oe.jsxs)("div",{children:[Object(Oe.jsx)("div",{children:Object(Oe.jsx)(rt,{oneFromDates:t})}),Object(Oe.jsx)("div",{children:Object(Oe.jsx)("h2",{ref:n})})]})},rt=ie.a.memo((function(e){var t=e.oneFromDates;return Object(Oe.jsxs)("div",{children:[Object(Oe.jsx)("img",{src:t.photo,alt:""}),Object(Oe.jsxs)("div",{children:["id - ",Object(Oe.jsx)("span",{children:t.userId})]}),Object(Oe.jsxs)("div",{children:["name - ",Object(Oe.jsx)("span",{children:t.userName})]}),Object(Oe.jsx)("div",{children:t.message})]})})),ct=function(e){var t=e.messages,n=Object(oe.useState)(t),r=Object(_e.a)(n,2),c=r[0],s=r[1],a=Object(He.c)(),u=Object(He.d)((function(e){return e.chat.status}));return Object(Oe.jsxs)("div",{children:[Object(Oe.jsx)("div",{children:Object(Oe.jsx)("textarea",{onChange:function(e){s(e.currentTarget.value)},value:c})}),Object(Oe.jsx)("button",{disabled:"ready"!==u,onClick:function(){var e;a((e=c,function(){var t=Object(i.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:K(e);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),s("")},children:"Send"})]})},st=n(71),at=n.n(st),ot=function(){var e=Object(oe.useState)([]),t=Object(_e.a)(e,2),n=t[0],r=t[1],c=Object(oe.useState)(null),s=Object(_e.a)(c,2),a=s[0],o=s[1],i=Object(oe.useState)(""),u=Object(_e.a)(i,2),l=u[0],d=u[1],j=Object(oe.useState)(),f=Object(_e.a)(j,2),b=f[0],O=f[1];Object(oe.useEffect)((function(){console.log("SYNC DETAILS"),at.a.get("https://social-network.samuraijs.com/api/1.0/users?term=".concat(l)).then((function(e){return r(e.data.items)}))}),[b]);return Object(Oe.jsxs)("div",{children:[Object(Oe.jsxs)("div",{children:[Object(Oe.jsx)("input",{onChange:function(e){d(e.currentTarget.value)},placeholder:"find name",value:l,type:"text"}),Object(Oe.jsx)("button",{onClick:function(){console.log("SYNC DETAILS"),O(l),console.log(n)},children:"find"})]}),n.map((function(e){return Object(Oe.jsx)("li",{onClick:function(){o(e)},children:e.name},e.id)})),Object(Oe.jsx)("div",{children:a&&Object(Oe.jsxs)("div",{children:[Object(Oe.jsxs)("div",{children:["photo - ",Object(Oe.jsx)("img",{src:a.photos.small?a.photos.small:a.photos.large,alt:""})]}),Object(Oe.jsxs)("div",{children:["status - ",a.status]}),Object(Oe.jsxs)("div",{children:["name - ",a.name]})]})})]})},it=ie.a.lazy((function(){return n.e(4).then(n.bind(null,318))})),ut=ie.a.lazy((function(){return Promise.all([n.e(3),n.e(5)]).then(n.bind(null,317))})),lt=function(e){return Object(Oe.jsxs)("div",{className:"app-wrapper",children:[Object(Oe.jsx)(Je,{}),Object(Oe.jsx)(ge,{}),Object(Oe.jsx)("div",{className:"app-wrapper-content",children:Object(Oe.jsx)(oe.Suspense,{fallback:Object(Oe.jsx)(We.a,{}),children:Object(Oe.jsxs)(Ue.d,{children:[Object(Oe.jsx)(Ue.b,{path:"/profile",element:Object(Oe.jsx)(Ve,{store:e.store}),children:Object(Oe.jsx)(Ue.b,{path:":userId",element:Object(Oe.jsx)(Ve,{store:e.store})})}),Object(Oe.jsx)(Ue.b,{path:"/dialogs/",element:Object(Oe.jsx)(it,{store:e.store})}),Object(Oe.jsx)(Ue.b,{path:"/users/",element:Object(Oe.jsx)(ut,{})}),Object(Oe.jsx)(Ue.b,{path:"/login/",element:Object(Oe.jsx)(Qe,{})}),Object(Oe.jsx)(Ue.b,{path:"/training/",element:Object(Oe.jsx)(ot,{})}),Object(Oe.jsx)(Ue.b,{path:"/chat",element:Object(Oe.jsx)(et,{})})]})})})]})};le.a.render(Object(Oe.jsx)(ie.a.StrictMode,{children:Object(Oe.jsx)(fe.a,{children:Object(Oe.jsx)(He.a,{store:ae,children:Object(Oe.jsx)(lt,{})})})}),document.getElementById("root"))},30:function(e,t,n){e.exports={imgclass:"ProfileInfo_imgclass__3brB_",descriptionprof:"ProfileInfo_descriptionprof__3iEIv",proffPhoto:"ProfileInfo_proffPhoto__wMKuJ",editBtn:"ProfileInfo_editBtn__2_XzO",profFomr:"ProfileInfo_profFomr__3JIk4",OnefieldProf:"ProfileInfo_OnefieldProf__1B1NM"}},42:function(e,t,n){e.exports={form:"Login_form__31wyx",Login:"Login_Login__3D7du",Pass:"Login_Pass__212oV",Subm:"Login_Subm__3AGUi",btn:"Login_btn__S9RIu",regInfo:"Login_regInfo__1qcL5"}},49:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(22),c={getUsers:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return r.a.get("users?page=".concat(e,"&count=").concat(t,"&term=").concat(n)+(null===c?"":"&friend=".concat(c))).then((function(e){return e.data}))},dateOfMyLogin:function(){return r.a.get("auth/me/").then((function(e){return e.data}))},follow:function(e){return r.a.post("follow/".concat(e)).then((function(e){return e.data}))},unfollow:function(e){return r.a.delete("follow/".concat(e)).then((function(e){return e.data}))}}},50:function(e,t,n){e.exports={header:"Header_header__1-YCv",imgheader:"Header_imgheader__3HhC1",linkLogin:"Header_linkLogin__3Tj1J",loginBtn:"Header_loginBtn__1SWea",LoginLabel:"Header_LoginLabel__29H6K"}},94:function(e,t,n){e.exports={formControl:"FormsControl_formControl__3A2dm",error:"FormsControl_error__2I7lC"}},97:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return u}));var r=n(13),c=n(3),s="UPDATE-NEW-MESSAGE-BODY",a="SEND-MESSAGE",o={messages:[{id:1,mes:"Hi"},{id:2,mes:"How is your id"},{id:3,mes:"Whats app?"},{id:4,mes:"Whtfck???"},{id:5,mes:"Olala"}],dialogs:[{id:1,name:"Dimych"},{id:2,name:"Petya"},{id:3,name:"Sasha"},{id:4,name:"Petya"},{id:5,name:"Valera"}],newMessageBody:""},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s:var n=Object(c.a)(Object(c.a)({},e),{},{newMessageBody:t.body});return n;case a:e.newMessageBody;var i=Object(c.a)(Object(c.a)({},e),{},{newMessageBody:"",messages:[].concat(Object(r.a)(e.messages),[{id:6,mes:t.mes}])});return i;default:return e}},u={sendMessageCreator:function(e){return{type:a,mes:e}},updateNewMessageBodyCreator:function(e){return{type:s,body:e}}}}},[[293,1,2]]]);
//# sourceMappingURL=main.78b9ebba.chunk.js.map